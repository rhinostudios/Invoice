<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>MR INVOICE FORM</title>
<style type="text/css">
<!--
.style4 {
     font-family: Arial, Helvetica, sans-serif;
     color: #FFFFFF;
     font-weight: bold;
     font-size: 20px;
}
.style8 {font-size: 20px; font-family: Arial, Helvetica, sans-serif; }
.style12 {font-size: 16px; font-weight: bold; }
.style15 {
     font-family: Calibri;
     font-weight: bold;
     font-style: italic;
     font-size: 20px;
}
.style18 {font-size: 36px; font-family: Arial, Helvetica, sans-serif; color: #FF6600; }
-->
</style>
</head>
<body>
<table width="796" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td height="138" colspan="4" valign="middle" bgcolor="#FFFFFF"><div align="left"><img src="SANIFLO_LOGO.PNG" alt="LOGO" width="352" height="134" /></div></td>
    <td width="7" rowspan="6" valign="top"></td>
    <td colspan="3" rowspan="6" valign="top">
      <label> </label>
        <div align="right"><span class="style18">EDITOR</span>
          <textarea name="textarea" maxlength="32">           INVOICE</textarea>
        </div>
          <p align="right" class="style13"><span class="style8">15 Swanborough Court<br />
          New Road<br />
          Shoreham-by-Sea<br />
    BN43 6RZ</span> </p></td>
  </tr>
  
  <tr>
    <td width="465" height="2" valign="top"></td>
    <td width="3" height="2" valign="top"></td>
    <td width="1" height="2" valign="top"></td>
    <td width="14" height="2" valign="top"></td>
  </tr>
  <tr>
    <td height="39" colspan="4" valign="middle" bgcolor="#FFFFFF"><span class="style8"><img src="BULLET_TILE.PNG" width="12" height="12" alt="BULLET" /> <span class="style12">SERVICE </span></span></td>
  </tr>
  <tr>
    <td width="465" height="2" valign="top"></td>
    <td width="3" height="2" valign="top"></td>
    <td width="1" height="2" valign="top"></td>
    <td width="14" height="2" valign="top"></td>
  </tr>
  <tr>
    <td height="5" colspan="4" valign="middle" bgcolor="#FFFFFF"><span class="style8"><img src="BULLET_TILE.PNG" width="12" height="12" alt="BULLET2" /> <span class="style12">REPAIRS</span> </span></td>
  </tr>
  <tr>
    <td height="5" colspan="4" valign="middle" bgcolor="#FFFFFF">&nbsp;</td>
  </tr>
  <tr>
    <td height="29" colspan="4" valign="middle" bgcolor="#FFFFFF">&nbsp;</td>
    <td width="7" height="29" valign="top"></td>
    <td width="304" height="29" valign="top"></td>
    <td width="304" height="29" valign="top"></td>
    <td width="304" height="29" valign="top"></td>
  </tr>
</table>
<table width="796" border="1">
  <tr>
    <td height="39" colspan="2" bgcolor="#000000"><span class="style4">T: 01273 973032 M: 075 385 812 54 </span></td>
    <td width="87"><span class="style8">Date DD/MM</span></td>
    <td width="241"><form name="invoice" id="invoice" method="POST" action="">
      <span class="style8"><p id="DATE"></p></span>
    </td>
  </tr>
  <tr>
    <td width="99" height="32"><span class="style8">Customer</span></td>
    <td width="341">
      <label for='Customer'></label>
      <input name="Customer" id="Customer" type="text" size="45" maxlength="16"/>
    </td>
    <td><span class="style8">Phone No </span></td>
    <td>
      <label for='Phone'></label>
      <input name="Phone" id="Phone" type="text" size="28" maxlength="12" />
    </td>
  </tr>
  <tr>
    <td><span class="style8">Address</span></td>
    <td colspan="3">
      <label for='Address'></label>
      <input name="Address" id="Address" type="text" size="101"maxlength=32 />
    </td>
  </tr>
  <tr>
    <td height="44"><div align="center" class="style8">QUANTITY</div></td>
    <td colspan="2"><div align="center" class="style8">DESCRIPTION</div></td>
    <td><div align="center" class="style8">COST</div></td>
  </tr>
  <tr>
    <td height="37">&nbsp;</td>
    <td colspan="2" rowspan="12">
      <label for='Desc'></label>
      <textarea name="Desc" id="Desc" cols="60" rows="24" type="text"maxlength="198"></textarea>
    </td>
    <td rowspan="12">
      <label for='Cost'></label>
      <textarea name="Cost" id="Cost" cols="25" rows="24" type="text"maxlength="64"></textarea>
    </td>
  </tr>
  <tr>
    <td height="37">&nbsp;</td>
  </tr>
  <tr>
    <td height="36">&nbsp;</td>
  </tr>
  <tr>
    <td height="37">&nbsp;</td>
  </tr>
  <tr>
    <td height="36">&nbsp;</td>
  </tr>
  <tr>
    <td height="36">&nbsp;</td>
  </tr>
  <tr>
    <td height="36">&nbsp;</td>
  </tr>
  <tr>
    <td height="37">&nbsp;</td>
  </tr>
  <tr>
    <td height="37">&nbsp;</td>
  </tr>
  <tr>
    <td height="36">&nbsp;</td>
  </tr>
  <tr>
    <td height="36">&nbsp;</td>
  </tr>
  <tr>
    <td height="38">&nbsp;</td>
  </tr>
  
  <tr>
    <td colspan="2"><span class="style8">CASH CHEQUE OTHER </span></td>
    <td><span class="style8">TOTAL</span></td>
    <td>
      <label for='Total'></label>
      <span class="style8">$</span>
      <input name="Total" type="text" id="Total" maxlength=3 />
    </td>
  </tr>
  <tr>
    <td colspan="4"><span class="style15">THANK YOU FOR YOUR CUSTOM </span>
     <input type ='button' onclick='checkForm()' value='Submit' /></form></td>
  </tr>
</table>
<script>
//window.onload
var count = 0; var email = "";
var emailError = 0; 
var alphaNum = /^[\w ]+$/;
     var chaExp = /^[A-Za-z]+$/;
     var numExp = /^[0-9]+$/;
     var submit = false;
alert("Javascript Initialised");

//Local vars for setting Time
     var now = new Date();
     alert(now);
     
	 var str = now.toString();//Convert to string of letters
	 var cut = str.split(" ");   //Convert to array of words
	 var str2 = cut;
     var str3 = cut;
	 var str4 = cut;				//Note below is string, array, array
	 
	 var dd = str.slice(0,3);    //0,3 Prints Wed
	 var dt = cut.slice(2,3); 	  //2    Prints 2nd all up to end
	 var mm = cut.slice(1,2); //2,5 Prints 2nd all up to 5th
	 var yy = cut.slice(3,4);
	 alert(dd); alert(dt); alert (mm); alert(yy);
	 
     console.log(dt); console.log(mm);
     alert(dt + " "+ mm); //USES STRING CONCAT 
	               //TO PUT IN SAME BOX 
	 
//Auto Place Time into Form
//NOT WORKING, METHOD OK BELOW
//PERHAPS GETMONTH AND GETDATE DONT EXIST ANYMORE?
//CHECKING WITH console.log and alert NOW
//CORRECT!
//GETMONTH AND GETDATE DONT EXIST, USE SLICE

//Bad Format 14/3/17 NO
//document.getElementById("Day").innerHTML=dd;
//document.getElementById("Month").innerHTML=mm;

var cake = dd + " " + dt + " " + mm + " " + yy;
alert(cake); //Join the slices to make a cake XD OK

//Using STRICT example to write to screen ok? NO
//			USE MOST BASIC HTML FORMAT ok? 
var write = document.getElementById("DATE");
write.innerHTML = cake;

//HTML for JS DATESTAMP <p id="DATE"></p>
//<span class="style8"><p id="DATE"></p></span>

function checkForm() {       //&& AND, || OR, != NOT
alert("CheckForm Initialised");
	 // Array no longer needed
     var arr = new Array ("Day","Month","Customer","Phone",
                              "Address","Desc","Cost","Total");
	 //NEW BLANK CHECK FOR ALL
     var c = ""; 
	 var errorCount = 0;
     var f = document.getElementById("invoice");
     
     for (var i=0; i < f.length; i++){
          c = c + f.elements[i].value;
          console.log(c);
               if (c == ""){
			   errorCount +=1;
				//alert (errorCount); OLD Displays 6 error msgs
               }
     }
     if (errorCount=>1){ //NEW if any error Display ONCE
	                alert("Please complete all sections of form!");
			   f.elements[i].focus();
               alert("These have been highlighted");}
     
     //TODO CHECK THESE EXPRESSIONS 19/3/17
     // check if expression is matched
     if (chaExp.test(f.Customer.value)) {
          count++; console.log("Validation is a");
          console.log (count); console.log("/6");}
     else {alert("Please enter Customer name!");
     f.Customer.focus();}
      
      if (alphaNum.test(f.Address.value)) {
          count++; console.log("Validation is b");
          console.log (count); console.log("/6");}
     else {alert("Invalid characters!");
     f.Address.focus();}
      
      if (numExp.test(f.Phone.value)) {
          count++; console.log("Validation is c");
          console.log (count); console.log("/6");}
     else {alert("Invalid characters!");
     f.Phone.focus();}
      
      if (alphaNum.test(f.Desc.value)) {
          count++; console.log("Validation is d");
          console.log (count); console.log("/6");}
     else {alert("Invalid characters!");
     f.Desc.focus();}
      
      if (alphaNum.test(f.Cost.value)) {
          count++; console.log("Validation is e");
          console.log (count); console.log("/6");}
     else {alert("Invalid characters!");
     f.Cost.focus();}
      
      if (numExp.test(f.Total.value)) {
          count++; console.log("Validation is f");
          console.log (count); console.log("/6");}
     else {alert("Invalid characters!");
     f.Total.focus();}
    // validation was successful
    if (count==6){
    valid();}
  }
 
//WHAT IS THIS BLOCK FOR? Historic only 
//REMOVED RETURN STATEMENT
var submit = checkForm;
//if (submit = true){}
//if ((submit = true) && (count = 8)){

function valid(){
alert("valid form submitted");
console.log("valid form submitted");
}

alert("EOF reached, waiting for Event...");
console.log("EOF reached, waiting for Event...");
</script>
</body>
</html>